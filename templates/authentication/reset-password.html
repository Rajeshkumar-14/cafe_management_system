{% extends 'authentication/base.html' %}
{% block title %}Confirm Password Reset{% endblock %}
{% block reset-password %}
<div class="container-fluid d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="card bg-blur text-white border border-white text-center text-white mt-2" style="width: 650px;;">
                <div class="card-header d-flex justify-content-between align-items-center p-3 border-bottom">
                    <h5 class="m-0">CMS</h5>
                    <h5 class="m-0">RESET YOUR PASSWORD</h5>
                </div>

                <div class="card-body shadow p-5">
                    <form method="POST"
                        class="reset-password-form needs-validation" novalidate>
                        {% csrf_token %}
                        <div class="input-group mb-3">
                            <span class="input-group-text bg-custom"><i class="fa-solid fa-key"></i></span>
                            <input type="password" class="form-control form-control-lg" placeholder="Password" name="password" required>
                        </div>
                        <!--  -->
                        <div class="input-group mb-3">
                            <span class="input-group-text bg-custom"><i class="fa-solid fa-repeat"></i></span>
                            <input type="password" class="form-control form-control-lg" placeholder="Re-Enter Password" name="password1"
                                required>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">RESET PASSWORD</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    (function () {
        'use strict';

        var forms = document.querySelectorAll('.needs-validation');

        Array.from(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }

                form.classList.add('was-validated');
            }, false);
        });
    })();
    function handleMessages() {
        {% if messages %}
        {% for message in messages %}
        {% if message.tags == 'success' %}
        Swal.fire({
            icon: 'success',
            title: 'Success',
            text: "{{ message|safe }}",
        });
        {% elif message.tags == 'error' %}
        Swal.fire({
            icon: 'error',
            title: 'Error',
            text: "{{ message|safe }}",
        });
        {% endif %}
        {% endfor %}
        {% endif %}
    }

    // Call the function to handle messages when the document is ready
    document.addEventListener("DOMContentLoaded", function () {
        handleMessages();
    });

</script>

{% endblock %}